<ion-header>
  <ion-toolbar>
    <!-- back button to my photos -->
    <ion-navbar (click)="onBackButton()">
    </ion-navbar>
  </ion-toolbar>
</ion-header>

<!-- <ion-content padding>
    <img id="image" [src]="image" #imageResult />

    <div *ngIf="image && showEditFilters">
      <ion-list>
        <ion-list-header>
          Adjust Image Filters
        </ion-list-header>

        <ion-item>
          <ion-label>Brightness</ion-label>
          <ion-range min="-100" max="100" pin="true" step="1" [(ngModel)]="brightness" color="secondary">
            <ion-icon range-left small name="sunny"></ion-icon>
            <ion-icon range-right name="sunny"></ion-icon>
          </ion-range>
        </ion-item>

        <ion-item>
          <ion-label>Contrast</ion-label>
          <ion-range min="-100" max="100" pin="true" step="1" [(ngModel)]="contrast" color="secondary">
            <ion-icon range-left small name="contrast"></ion-icon>
            <ion-icon range-right name="contrast"></ion-icon>
          </ion-range>
        </ion-item>

        <ion-item>
          <ion-label>UnsharpMask Radius</ion-label>
          <ion-range min="0" max="200" pin="true" step="1" [(ngModel)]="unsharpMask.radius" color="secondary">
            <ion-icon range-left small name="ios-radio"></ion-icon>
            <ion-icon range-right name="ios-radio"></ion-icon>
          </ion-range>
        </ion-item>

        <ion-item>
          <ion-label>UnsharpMask Strength</ion-label>
          <ion-range min="0" max="5" step="0.5" pin="true" [(ngModel)]="unsharpMask.strength" color="secondary">
            <ion-icon range-left small name="md-cog"></ion-icon>
            <ion-icon range-right name="md-cog"></ion-icon>
          </ion-range>
        </ion-item>

        <ion-item>
          <ion-label>Hue</ion-label>
          <ion-range min="-100" max="100" pin="true" step="1" [(ngModel)]="hue" color="secondary">
            <ion-icon range-left small name="md-color-palette"></ion-icon>
            <ion-icon range-right name="md-color-palette"></ion-icon>
          </ion-range>
        </ion-item>

        <ion-item>
          <ion-label>Saturation</ion-label>
          <ion-range min="-100" max="100" pin="true" step="1" [(ngModel)]="saturation" color="secondary">
            <ion-icon range-left small name="thermometer"></ion-icon>
            <ion-icon range-right name="thermometer"></ion-icon>
          </ion-range>
        </ion-item>

      </ion-list>
    </div>

    <ion-fab right bottom>
      <button ion-fab (click)="openMenu()" color="danger">
        <ion-icon name="add"></ion-icon>
      </button>
    </ion-fab>
</ion-content> -->
<!-- <ion-content>
    <canvas id="image2" width="200" height="100" style="border:1px solid #000000;"  #image></canvas>
    <img id="image" src="../assets/imgs/template.png">
    <ion-item>
      <ion-label id="image">Brightness</ion-label>
      <ion-range min="-100" max="100" pin="true" step="1" (ionChange)="filter('../assets/imgs/migrations.png')" color="secondary">
        <ion-icon range-left small name="sunny"></ion-icon>
        <ion-icon range-right name="sunny"></ion-icon>
      </ion-range>
    </ion-item>
  </ion-content> -->
<!-- 
<script src="../assets/js/glfx.js"></script>
-->
<script>
window.onload = function() {
  console.log('Windows.load');    // try to create a WebGL canvas (will fail if WebGL isn't supported)
    try {
        var canvas = fx.canvas();
    } catch (e) {
        alert(e);
        return;
    }

    // convert the image to a texture
    var image = document.getElementById('image');
    var texture = canvas.texture(image);

    // apply the ink filter
   // canvas.draw(texture).ink(0.25).update();
    //canvas.draw(texture)
  //     .hueSaturation(this.hue / 100, this.saturation / 100)//grayscale
  //     .unsharpMask(this.unsharpMask.radius, this.unsharpMask.strength)
      canvas.draw(texture).brightnessContrast(-0.91, 0).update();
    //     .brightnessContrast(this.brightness / 100, this.contrast / 100)
    //      .update();
    texture.loadContentsOf(image);

    // replace the image with the canvas
    image.parentNode.insertBefore(canvas, image);
    image.parentNode.removeChild(image);
};
</script> 
<img id="image" src="../assets/imgs/template.png">
<ion-content>
  <ion-item>
    <ion-label id="image">Brightness</ion-label>
    <ion-range min="-100" max="100" pin="true" step="1" (ionChange)="filter('../assets/imgs/migrations.png')" color="secondary">
      <ion-icon range-left small name="sunny"></ion-icon>
      <ion-icon range-right name="sunny"></ion-icon>
    </ion-range>
  </ion-item>
</ion-content>